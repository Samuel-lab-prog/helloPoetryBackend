{
	"domain": "hey",
	"useCases": [
		{
			"name": "reset-user-password",
			"type": "command",
			"dataModels": [
				{
					"name": "ResetPassword",
					"properties": {
						"userId": "number",
						"newPassword": "string"
					}
				}
			],
			"errors": [
				{
					"name": "UserNotFoundError",
					"type": "NOT_FOUND",
					"message": "The user with the specified ID was not found."
				}
			],
			"repositoryMethods": [
				{
					"name": "updateUserPassword",
					"parameters": [{ "name": "reset", "type": "ResetPassword" }],
					"returnTypes": ["boolean"]
				}
			],
			"useCaseFunc": {
				"name": "resetUserPassword",
				"parameters": [{ "name": "reset", "type": "ResetPassword" }],
				"returnTypes": ["boolean"]
			},
			"serviceFunc": {
				"name": "resetUserPassword",
				"parameters": [{ "name": "reset", "type": "ResetPassword" }],
				"returnTypes": ["boolean"]
			},
			"http": {
				"method": "POST",
				"path": "/users/:id/reset-password",
				"query": [],
				"params": [{ "name": "id", "type": "number" }],
				"responsesCodes": ["200", "404", "400"],
				"needsAuth": true,
				"schemaName": "ResetUserPasswordSchema",
				"summary": "Reset a user's password",
				"description": "This endpoint allows resetting a user's password by their ID.",
				"tags": ["Users"]
			}
		},
		{
			"name": "list-users",
			"type": "query",
			"dataModels": [
				{
					"name": "PartialUser",
					"properties": {
						"id": "number",
						"username": "string",
						"fullName": "string"
					}
				}
			],
			"errors": [
				{
					"name": "UnauthorizedError",
					"type": "FORBIDDEN_USER_OPERATION",
					"message": "You do not have permission to access this resource."
				}
			],
			"repositoryMethods": [
				{
					"name": "selectAllUsers",
					"parameters": [],
					"returnTypes": ["PartialUser[]"]
				}
			],
			"useCaseFunc": {
				"name": "listUsers",
				"parameters": [],
				"returnTypes": ["PartialUser[]"]
			},
			"serviceFunc": {
				"name": "listUsers",
				"parameters": [],
				"returnTypes": ["PartialUser[]"]
			},
			"http": {
				"method": "GET",
				"path": "/users",
				"query": [],
				"params": [],
				"responsesCodes": ["200", "403"],
				"needsAuth": true,
				"schemaName": "ListUsersSchema",
				"summary": "List all users",
				"description": "This endpoint retrieves a list of all users in the system with partial info.",
				"tags": ["Users"]
			}
		},

		{
			"name": "get-public-user-info",
			"type": "query",
			"dataModels": [
				{
					"name": "PartialUser",
					"properties": {
						"id": "number",
						"username": "string",
						"fullName": "string"
					}
				},
				{
					"name": "SensitiveData",
					"properties": {
						"userId": "number",
						"data": "string"
					}
				}
			],
			"errors": [
				{
					"name": "UserNotFoundError",
					"type": "NOT_FOUND",
					"message": "The user with the specified ID was not found."
				},
				{
					"name": "AccessDeniedError",
					"type": "FORBIDDEN_USER_OPERATION",
					"message": "You do not have permission to access this users sensitive data."
				}
			],
			"repositoryMethods": [
				{
					"name": "selectPartialUser",
					"parameters": [{ "name": "userId", "type": "number" }],
					"returnTypes": ["PartialUser[]", "SensitiveData[]"]
				},
				{
					"name": "selectSensitiveData",
					"parameters": [{ "name": "userId", "type": "number" }],
					"returnTypes": ["boolean"]
				}
			],
			"useCaseFunc": {
				"name": "getPublicUserInfo",
				"parameters": [{ "name": "userId", "type": "number" }],
				"returnTypes": ["PartialUser[]", "SensitiveData[]", "null"]
			},
			"serviceFunc": {
				"name": "getPublicUserInfo",
				"parameters": [{ "name": "userId", "type": "number" }],
				"returnTypes": ["PartialUser[]", "SensitiveData[]", "null"]
			},
			"http": {
				"method": "GET",
				"path": "/:id/public-info",
				"query": [{ "name": "includeSensitiveData", "type": "boolean" }],
				"params": [{ "name": "id", "type": "number" }],
				"responsesCodes": ["200", "404", "403"],
				"needsAuth": true,
				"schemaName": "GetPublicUserInfoSchema",
				"summary": "Retrieve public information of a user by ID",
				"description": "This endpoint retrieves public information of a user specified by their ID. It requires authentication and may include sensitive data based on the query parameter.",
				"tags": ["Users", "Public Info"]
			}
		}
	]
}
